---
/**
 * QuickAnswers Component
 * FAQ section for the homepage targeting Google's "People Also Ask" boxes.
 * Uses FAQPage schema + H3 question tags + 40-50 word answers (featured snippet sweet spot).
 * Each answer includes a deep-dive link to drive internal page views.
 */

import { routes } from '../config/routes';

const faqs = [
  {
    question: "Where does Crime Hotspots data come from?",
    answer: "Data comes from RSS feeds of Trinidad Express, Guardian TT, CNC3, and Newsday, plus community sources like the Ian Alleyne Network. Every entry links directly to its original source article, so users can independently verify the context and details of each reported incident.",
    ctaText: "Explore the live dashboard",
    ctaHref: routes.trinidad.dashboard,
  },
  {
    question: "How is Crime Hotspots data verified?",
    answer: "Each article is processed by AI, which extracts crime type, location, area, and date into a structured format. High-severity incidents and cases with ambiguous locations then undergo mandatory human review before publication, ensuring geographic accuracy and correct crime classification on our live dashboard.",
    ctaText: "Browse verified crime reports",
    ctaHref: routes.trinidad.headlines,
  },
  {
    question: "How accurate is the crime data?",
    answer: "Our data reflects only crimes reported by established media — not all crimes that occur. Rural and lower-profile incidents may be underrepresented due to media coverage gaps. Every entry links to its source article, giving you full transparency into the evidence behind each statistic.",
    ctaText: "Read about our limitations",
    ctaHref: routes.methodology,
  },
  {
    question: "How often is the crime data updated?",
    answer: "Trinidad & Tobago RSS feeds are checked every two hours; Guyana's feeds run hourly. Data publishes to the live dashboard immediately after human validation. A full historical record is maintained for trend analysis — use the year filter on our dashboard to explore past patterns.",
    ctaText: "View the live dashboard",
    ctaHref: routes.trinidad.dashboard,
  },
];

// FAQPage schema for Google's People Also Ask
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map(faq => ({
    "@type": "Question",
    "name": faq.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": faq.answer,
    },
  })),
};
---

<section class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 mt-12 mb-6" aria-label="Frequently Asked Questions">
  <!-- Section header -->
  <div class="text-center mb-6">
    <span class="inline-block px-3 py-0.5 rounded-full bg-rose-100 dark:bg-rose-950/50 text-rose-700 dark:text-rose-400 text-xs font-semibold tracking-wide uppercase mb-3">
      Quick Answers
    </span>
    <h2 class="text-heading font-bold text-slate-800 dark:text-[hsl(0_0%_92%)]">
      How does our data work?
    </h2>
  </div>

  <!-- Q&A cards -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    {faqs.map(faq => (
      <div class="bg-white/70 dark:bg-[hsl(0_0%_5%)] backdrop-blur-md rounded-2xl shadow-sm border border-slate-100 dark:border-[hsl(0_0%_12%)] p-5 flex flex-col gap-3">
        <h3 class="text-body font-semibold text-slate-800 dark:text-[hsl(0_0%_92%)] leading-snug">
          {faq.question}
        </h3>
        <p class="text-xs text-slate-500 dark:text-[hsl(0_0%_60%)] leading-relaxed flex-1">
          {faq.answer}
        </p>
        <a
          href={faq.ctaHref}
          class="inline-flex items-center gap-1 text-xs text-rose-600 dark:text-rose-400 font-medium hover:text-rose-700 dark:hover:text-rose-300 transition-colors self-center"
        >
          {faq.ctaText}
          <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
    ))}
  </div>

  <!-- Footer CTA -->
  <div class="mt-5 text-center">
    <a
      href={routes.methodology}
      class="inline-flex items-center gap-1.5 text-xs text-slate-500 dark:text-[hsl(0_0%_55%)] hover:text-rose-600 dark:hover:text-rose-400 transition-colors font-medium"
    >
      Read the full Methodology
      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </a>
  </div>
</section>

<!-- FAQPage Schema for Google's People Also Ask -->
<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />
