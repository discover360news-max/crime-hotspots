<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title id="post-title">Blog Post - Crime Hotspots Caribbean</title>
  <meta name="description" content="" id="post-description">
  <meta name="keywords" content="Caribbean crime statistics, crime analysis, public safety">

  <!-- Open Graph tags (dynamically populated) -->
  <meta property="og:title" content="" id="og-title">
  <meta property="og:description" content="" id="og-description">
  <meta property="og:type" content="article">
  <meta property="og:image" content="" id="og-image">

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Custom styles -->
  <link rel="stylesheet" href="/src/css/styles.css">

  <!-- Custom blog styling -->
  <style>
    /* Smooth animations for interactive elements */
    .stat-card {
      transition: all 0.3s ease;
    }
    .stat-card:hover {
      transform: translateY(-2px);
    }
  </style>
</head>
<body class="bg-slate-50 min-h-screen">
  <!-- Header will be injected here -->
  <div id="header-container"></div>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-12 max-w-4xl">
    <!-- Loading State -->
    <div id="loading" class="text-center py-12">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-rose-600 mx-auto"></div>
      <p class="text-slate-600 mt-4">Loading article...</p>
    </div>

    <!-- Article Content -->
    <article id="article-content" class="hidden">
      <!-- Hero Image -->
      <div class="mb-8 rounded-lg overflow-hidden">
        <img id="hero-image" src="" alt="" class="w-full h-64 md:h-96 object-cover">
      </div>

      <!-- Article Header -->
      <header class="mb-8">
        <div class="flex items-center gap-2 mb-4">
          <span id="country-badge" class="text-xs font-semibold px-3 py-1 rounded bg-rose-100 text-rose-700">
            Country
          </span>
          <span id="post-date" class="text-sm text-slate-500">Date</span>
        </div>
        <h1 id="article-title" class="text-4xl font-bold text-slate-900 mb-4"></h1>
        <div class="flex items-center gap-4 text-sm text-slate-600">
          <span id="author">Author</span>
          <span>•</span>
          <span id="read-time">Read Time</span>
        </div>
      </header>

      <!-- Article Body -->
      <div id="article-body" class="max-w-none">
        <!-- Markdown content will be rendered here -->
      </div>

      <!-- Social Share Buttons -->
      <div class="mt-12 pt-8 border-t border-slate-200">
        <h3 class="text-lg font-semibold mb-4 text-slate-900">Share this article</h3>
        <div class="flex gap-3">
          <button id="share-facebook" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
            Facebook
          </button>
          <button id="share-twitter" class="px-4 py-2 bg-sky-500 text-white rounded-lg hover:bg-sky-600 transition">
            Twitter
          </button>
          <button id="share-whatsapp" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
            WhatsApp
          </button>
          <button id="share-copy" class="px-4 py-2 bg-slate-600 text-white rounded-lg hover:bg-slate-700 transition">
            Copy Link
          </button>
        </div>
      </div>

      <!-- Related Dashboard -->
      <div class="mt-12 p-6 bg-rose-50 rounded-lg border border-rose-200">
        <h3 class="text-lg font-semibold mb-3 text-slate-900">View Interactive Dashboard</h3>
        <p class="text-slate-600 mb-4">Explore the full crime statistics dashboard for detailed visualizations and filters.</p>
        <a id="dashboard-link" href="/" class="inline-block px-6 py-3 bg-rose-600 text-white font-semibold rounded-lg hover:bg-rose-700 transition">
          View Dashboard
        </a>
      </div>

      <!-- Back to Blog -->
      <div class="mt-8">
        <a href="/blog.html" class="text-rose-600 hover:text-rose-700 font-medium">
          ← Back to Blog
        </a>
      </div>
    </article>

    <!-- Error State -->
    <div id="error-state" class="hidden text-center py-12">
      <p class="text-red-600 text-lg mb-4">Article not found</p>
      <a href="/blog.html" class="text-rose-600 hover:text-rose-700 font-medium">
        ← Back to Blog
      </a>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-slate-800 text-white py-8 mt-16">
    <div class="container mx-auto px-4 text-center">
      <p>&copy; 2025 Crime Hotspots Caribbean. All rights reserved.</p>
      <p class="text-slate-400 text-sm mt-2">Data updated weekly.</p>
    </div>
  </footer>

  <!-- Dashboard Panel -->
  <section
    id="dashboardPanel"
    class="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200
          rounded-t-2xl shadow-xl transform translate-y-full opacity-0
          transition-all duration-700 ease-[cubic-bezier(.22,1,.36,1)]
          hidden z-50"
  >
    <div class="flex justify-center pt-3">
      <div class="w-12 h-1.5 bg-slate-300 rounded-full"></div>
    </div>

    <div class="flex items-center justify-between bg-white p-4 border-b sticky top-0 z-10">
      <button
        id="dashboardClose"
        class="text-slate-600 hover:text-rose-600 text-sm font-medium flex items-center gap-1"
        aria-label="Close dashboard"
      >
        ← Back to article
      </button>

      <a
        id="dashboardHeadlinesLink"
        href="#"
        class="text-sm text-rose-600 hover:text-rose-700 font-medium opacity-0 pointer-events-none transition-opacity duration-700"
      >
        View Headlines →
      </a>
    </div>

    <div class="relative bg-white rounded-lg shadow overflow-hidden">
      <iframe
        id="dashboardIframe"
        title="Country Dashboard"
        src="about:blank"
        class="w-full h-[calc(85vh-6rem)] border-0 opacity-0 transition-opacity duration-700 bg-gradient-to-b from-slate-100 to-white"
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox"
      ></iframe>

      <div id="dashboardError" class="hidden p-6 text-sm text-rose-700 bg-rose-50">
        <strong>Unable to load dashboard.</strong>
        <p class="mt-2">
          The dashboard might not allow embedding or there was a connection issue.
          You can
          <a
            id="dashboardOpenNew"
            class="underline font-medium"
            href="#"
            target="_blank"
            rel="noreferrer noopener"
          >
            open it in a new tab
          </a>.
        </p>
      </div>
    </div>
  </section>

  <!-- Scripts -->
  <script type="module" src="/src/js/blogPost.js"></script>
</body>
</html>
